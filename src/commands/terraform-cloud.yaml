# src/commands/terraform-cloud.yaml

description: >
  Set access token for app.terraform.io API to use as backend state store -

parameters:

  terraform-cloud-token:
    description: API token for app.terraform.io cloud state access
    type: string

steps:
  - run:
      name: setup backend.conf
      command: |
        cat \<< EOF > ~/.terraformrc
        credentials "app.terraform.io" {
          token = "<< parameters.terraform-cloud-token >>"
        }
        EOF
